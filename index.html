<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVReady Renewals</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
</head>
<body>
    <h2>EVReady Renewals Data</h2>
    <table id="renewalsTable" class="display">
        <thead>
            <tr id="tableHeader"></tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>

    <script>
        $(document).ready(function () {
            $.getJSON("data.json", function (data) {
                let headers = Object.keys(data[0]);
                let headerRow = headers.map(h => `<th>${h}</th>`).join('');
                $("#tableHeader").html(headerRow);
                
                let bodyRows = data.map(row => {
                    return `<tr>${headers.map(h => `<td>${row[h]}</td>`).join('')}</tr>`;
                }).join('');
                $("#tableBody").html(bodyRows);
                
                $('#renewalsTable').DataTable();
            });
        });
    </script>
</body>
</html>
